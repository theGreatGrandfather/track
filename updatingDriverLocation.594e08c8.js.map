{"mappings":"YAAI,IAEMA,EAAU,+BAAqCC,OAFvC,iDAEuC,gBAEjDC,EAAe,wBAEjBC,EAASC,SAASC,cAAc,WAChCC,EAAeF,SAASG,iBAAiB,gBACzCC,EAAgBJ,SAASC,cAAc,oBACvCI,EAAYL,SAASC,cAAc,cACnCK,EAAON,SAASC,cAAc,SAC9BM,EAAOP,SAASC,cAAc,SAC9BO,EAASR,SAASC,cAAc,WAKhCQ,EAAmB,SAACC,GACtB,IAAMC,EAAiBD,EAAEE,OAAOC,GAET,SAAnBF,GACAP,EAAcU,UAAUC,IAAI,WAGxBT,EAAKU,OAAST,EAAKS,OAASR,EAAOQ,QACnCX,EAAUY,UAAW,IAEE,cAAnBN,IACRN,EAAUY,UAAW,EACjBb,EAAcU,UAAUI,SAAS,YACjCd,EAAcU,UAAUK,OAAO,W,EAIrBnB,SAASG,iBAAiB,aAGhDD,EAAakB,SAAQ,SAAAC,GACjBA,EAAMC,iBAAiB,SAAUb,E,IAuErCV,EAAOuB,iBAAiB,UAjEP,SAAAZ,GACbA,EAAEa,iBACF,IAAMC,EAAW,IAAIC,SAASf,EAAEgB,eAG5B,gBAAiBC,UACjBA,UAAUC,YAAYC,oBAAmB,SAASC,GAClD,IAAIC,EAAWD,EAASE,OAAOD,SAC3BE,EAAYH,EAASE,OAAOC,UAI5BC,EAAa,kDAA8DrC,OAAZkC,EAAS,KAAoBlC,OAAjBoC,EAAU,SAAcpC,OAF1F,mCAE0F,gBAEvGsC,MAAMD,GACDE,MAAK,SAAAC,G,OAAYA,EAASC,M,IAC1BF,MAAK,SAAAG,GACF,GAAIA,EAAKC,QAAQC,OAAS,EAAG,CACzB,IAAIC,EAAUH,EAAKC,QAAQ,GAAGG,WAAWC,UAIxB,SAAClC,G,IACTmC,GAAS,EAATC,GAAS,EAATC,OAASC,E,IAAd,QAAKC,EAAAC,EAAa1B,EAAS2B,UAASC,OAAAC,cAA/BR,GAAAI,EAAAC,EAASI,QAAAC,MAATV,GAAS,GAAT,IAAIW,EAAJP,EAASjC,MACK,IAAXwC,EAAM,KACN1D,GAAe,IAAsBD,OAAlB2D,EAAMC,KAAK,OAAO,MACrCC,QAAQC,IAAI7D,G,WAHfgD,GAAS,EAATC,EAASa,C,aAATf,GAAS,MAATK,EAASW,QAATX,EAASW,Q,YAATf,E,MAAAC,C,EAMLjD,GAAe,eAAuBD,OAAR6C,EAAQ,MAEtC,IACIoB,MAAMC,KAAKnE,EAAS,CAChBoE,QA5EZ,iBA6EYC,WAAY,OACZC,KAAMpE,IAETsC,MAAK,SAAAC,GACFqB,QAAQC,IAAI,yC,IAEfQ,OAAM,SAAAC,GACHV,QAAQU,MAAM,qCAAsCA,E,IAE1D,MAAOA,GACLV,QAAQU,MAAM,qCAAsCA,E,CACvD,QACGtE,EAAc,E,EA1BtBuE,GACAX,QAAQC,IAAI,mCAAsDjB,E,MA6BlEgB,QAAQC,IAAI,+B,IAGnBQ,OAAM,SAAAC,GACHV,QAAQU,MAAM,gDAAwFA,E,OAI9GV,QAAQC,IAAI,6C","sources":["src/js/upDriver.js"],"sourcesContent":["    const TOKEN = '6407921969:AAGnKf8qyUQ3H2x0SNI61kLnO0qEHU1R2Ik';\n    const CHAT_ID = '-1001903507381';\n    const URI_API = `https://api.telegram.org/bot${TOKEN}/sendMessage`;\n\n    let messageToTg = `<b>Get location</b>\\n`;\n    \nconst upForm = document.querySelector('.upForm');\nconst statusRadios = document.querySelectorAll('.statusRadio');\nconst buzyContainer = document.querySelector('.busy__container');\nconst submitBtn = document.querySelector('.submitBtn');\nconst date = document.querySelector('.date'); \nconst time = document.querySelector('.time'); \nconst number = document.querySelector('.number'); \n\n\n\n\nconst onStatusChecking = (e) => {\n    const selectedStatus = e.target.id; // Get the id of the selected radio button\n\n    if (selectedStatus === 'busy') {\n        buzyContainer.classList.add('visible');\n\n\n        if (date.value && time.value && number.value) {\n            submitBtn.disabled = false\n        }\n    } else if ((selectedStatus === 'available')) {\n        submitBtn.disabled = false\n        if (buzyContainer.classList.contains('visible')) {\n            buzyContainer.classList.remove('visible');\n        }\n    }\n};\nconst busyDataInput = document.querySelectorAll('.busyData');\n\n\nstatusRadios.forEach(radio => {\n    radio.addEventListener('change', onStatusChecking);\n});\n\n \n\n\nconst onSubmit = e => {\n    e.preventDefault();\n    const formData = new FormData(e.currentTarget);\n    \n    \n    if (\"geolocation\" in navigator) {\n        navigator.geolocation.getCurrentPosition(function(position) {\n        var latitude = position.coords.latitude;\n        var longitude = position.coords.longitude;\n\n        var apiKey = '6ddf7ebd5c3e4dd48abbd5d0d7ed1997'; \n\n        var requestUrl = `https://api.opencagedata.com/geocode/v1/json?q=${latitude}+${longitude}&key=${apiKey}&language=en`;\n\n        fetch(requestUrl)\n            .then(response => response.json())\n            .then(data => {\n                if (data.results.length > 0) {\n                    var zipCode = data.results[0].components.postcode;\n    \n                    formSend();\n                    console.log(\"Ваш поштовий індекс (zip code): \" + zipCode);\n                    function formSend(e) {\n                        for (let entry of formData.entries()) {\n                            if (entry[1] !='') {\n                                messageToTg += ` ${entry.join(\" : \")}\\n`;\n                                console.log(messageToTg);\n                            }\n                        }\n                        messageToTg += `current zc: ${zipCode}\\n`;\n\n                        try {\n                            axios.post(URI_API, {\n                                chat_id: CHAT_ID,\n                                parse_mode: 'html',\n                                text: messageToTg,\n                            })\n                            .then(response => {\n                                console.log('Message sent to Telegram successfully.');\n                            })\n                            .catch(error => {\n                                console.error('Error sending message to Telegram:', error);\n                            });\n                        } catch (error) {\n                            console.error('Error sending message to Telegram:', error);\n                        } finally {\n                            messageToTg = '';\n                        }\n                    }\n                } else {\n                    console.log(\"Поштовий індекс не знайдено.\");\n                }\n            })\n            .catch(error => {\n                console.error(\"Помилка під час отримання поштового індексу: \" + error);\n            });\n        });\n    } else {\n        console.log(\"Геолокація не підтримується цим браузером.\");\n    }\n};\n\n\n\n\nupForm.addEventListener('submit', onSubmit)"],"names":["$c6637b4bee4ab82b$var$URI_API","concat","$c6637b4bee4ab82b$var$messageToTg","$c6637b4bee4ab82b$var$upForm","document","querySelector","$c6637b4bee4ab82b$var$statusRadios","querySelectorAll","$c6637b4bee4ab82b$var$buzyContainer","$c6637b4bee4ab82b$var$submitBtn","$c6637b4bee4ab82b$var$date","$c6637b4bee4ab82b$var$time","$c6637b4bee4ab82b$var$number","$c6637b4bee4ab82b$var$onStatusChecking","e","selectedStatus","target","id","classList","add","value","disabled","contains","remove","forEach","radio","addEventListener","preventDefault","formData","FormData","currentTarget","navigator","geolocation","getCurrentPosition","position","latitude","coords","longitude","requestUrl","fetch","then","response","json","data","results","length","zipCode","components","postcode","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","entries","Symbol","iterator","next","done","entry","join","console","log","err","return","axios","post","chat_id","parse_mode","text","catch","error","formSend"],"version":3,"file":"updatingDriverLocation.594e08c8.js.map"}