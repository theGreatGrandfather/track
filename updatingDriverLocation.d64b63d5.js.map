{"mappings":"AAII,IAAIA,EAAc,wBAEtB,MAAMC,EAASC,SAASC,cAAc,WAChCC,EAAeF,SAASG,iBAAiB,gBACzCC,EAAgBJ,SAASC,cAAc,oBACvCI,EAAYL,SAASC,cAAc,cACnCK,EAAON,SAASC,cAAc,SAC9BM,EAAOP,SAASC,cAAc,SAC9BO,EAASR,SAASC,cAAc,WAKhCQ,EAAoBC,IACtB,MAAMC,EAAiBD,EAAEE,OAAOC,GAET,SAAnBF,GACAP,EAAcU,UAAUC,IAAI,WAGxBT,EAAKU,OAAST,EAAKS,OAASR,EAAOQ,QACnCX,EAAUY,UAAW,IAEE,cAAnBN,IACRN,EAAUY,UAAW,EACjBb,EAAcU,UAAUI,SAAS,YACjCd,EAAcU,UAAUK,OAAO,W,EAIrBnB,SAASG,iBAAiB,aAGhDD,EAAakB,SAAQC,IACjBA,EAAMC,iBAAiB,SAAUb,EAAiB,IAuEtDV,EAAOuB,iBAAiB,UAjEPZ,IACbA,EAAEa,iBACF,MAAMC,EAAW,IAAIC,SAASf,EAAEgB,eAG5B,gBAAiBC,UACjBA,UAAUC,YAAYC,oBAAmB,SAASC,GAClD,IAAIC,EAAWD,EAASE,OAAOD,SAC3BE,EAAYH,EAASE,OAAOC,UAMhCC,MAFiB,kDAAkDH,KAAYE,sDAG1EE,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACF,GAAIA,EAAKC,QAAQC,OAAS,EAAG,CACzB,IAAIC,EAAUH,EAAKC,QAAQ,GAAGG,WAAWC,UAIxB,SAACjC,GACd,IAAK,IAAIkC,KAASpB,EAASqB,UACR,IAAXD,EAAM,KACN9C,GAAe,IAAI8C,EAAME,KAAK,WAC9BC,QAAQC,IAAIlD,IAGpBA,GAAe,eAAe2C,MAE9B,IACIQ,MAAMC,KA1Ed,yFA0E4B,CAChBC,QA5EZ,iBA6EYC,WAAY,OACZC,KAAMvD,IAETqC,MAAKC,IACFW,QAAQC,IAAI,yCAAyC,IAExDM,OAAMC,IACHR,QAAQQ,MAAM,qCAAsCA,EAAM,G,CAEhE,MAAOA,GACLR,QAAQQ,MAAM,qCAAsCA,E,CACvD,QACGzD,EAAc,E,EA1BtB0D,GACAT,QAAQC,IAAI,mCAAsDP,E,MA6BlEM,QAAQC,IAAI,+BAAuD,IAG1EM,OAAMC,IACHR,QAAQQ,MAAM,gDAAwFA,EAAM,G,IAIpHR,QAAQC,IAAI,6CAA6C","sources":["src/js/upDriver.js"],"sourcesContent":["    const TOKEN = '6407921969:AAGnKf8qyUQ3H2x0SNI61kLnO0qEHU1R2Ik';\n    const CHAT_ID = '-1001903507381';\n    const URI_API = `https://api.telegram.org/bot${TOKEN}/sendMessage`;\n\n    let messageToTg = `<b>Get location</b>\\n`;\n    \nconst upForm = document.querySelector('.upForm');\nconst statusRadios = document.querySelectorAll('.statusRadio');\nconst buzyContainer = document.querySelector('.busy__container');\nconst submitBtn = document.querySelector('.submitBtn');\nconst date = document.querySelector('.date'); \nconst time = document.querySelector('.time'); \nconst number = document.querySelector('.number'); \n\n\n\n\nconst onStatusChecking = (e) => {\n    const selectedStatus = e.target.id; // Get the id of the selected radio button\n\n    if (selectedStatus === 'busy') {\n        buzyContainer.classList.add('visible');\n\n\n        if (date.value && time.value && number.value) {\n            submitBtn.disabled = false\n        }\n    } else if ((selectedStatus === 'available')) {\n        submitBtn.disabled = false\n        if (buzyContainer.classList.contains('visible')) {\n            buzyContainer.classList.remove('visible');\n        }\n    }\n};\nconst busyDataInput = document.querySelectorAll('.busyData');\n\n\nstatusRadios.forEach(radio => {\n    radio.addEventListener('change', onStatusChecking);\n});\n\n \n\n\nconst onSubmit = e => {\n    e.preventDefault();\n    const formData = new FormData(e.currentTarget);\n    \n    \n    if (\"geolocation\" in navigator) {\n        navigator.geolocation.getCurrentPosition(function(position) {\n        var latitude = position.coords.latitude;\n        var longitude = position.coords.longitude;\n\n        var apiKey = '6ddf7ebd5c3e4dd48abbd5d0d7ed1997'; \n\n        var requestUrl = `https://api.opencagedata.com/geocode/v1/json?q=${latitude}+${longitude}&key=${apiKey}&language=en`;\n\n        fetch(requestUrl)\n            .then(response => response.json())\n            .then(data => {\n                if (data.results.length > 0) {\n                    var zipCode = data.results[0].components.postcode;\n    \n                    formSend();\n                    console.log(\"Ваш поштовий індекс (zip code): \" + zipCode);\n                    function formSend(e) {\n                        for (let entry of formData.entries()) {\n                            if (entry[1] !='') {\n                                messageToTg += ` ${entry.join(\" : \")}\\n`;\n                                console.log(messageToTg);\n                            }\n                        }\n                        messageToTg += `current zc: ${zipCode}\\n`;\n\n                        try {\n                            axios.post(URI_API, {\n                                chat_id: CHAT_ID,\n                                parse_mode: 'html',\n                                text: messageToTg,\n                            })\n                            .then(response => {\n                                console.log('Message sent to Telegram successfully.');\n                            })\n                            .catch(error => {\n                                console.error('Error sending message to Telegram:', error);\n                            });\n                        } catch (error) {\n                            console.error('Error sending message to Telegram:', error);\n                        } finally {\n                            messageToTg = '';\n                        }\n                    }\n                } else {\n                    console.log(\"Поштовий індекс не знайдено.\");\n                }\n            })\n            .catch(error => {\n                console.error(\"Помилка під час отримання поштового індексу: \" + error);\n            });\n        });\n    } else {\n        console.log(\"Геолокація не підтримується цим браузером.\");\n    }\n};\n\n\n\n\nupForm.addEventListener('submit', onSubmit)"],"names":["$64b9e76f55142da5$var$messageToTg","$64b9e76f55142da5$var$upForm","document","querySelector","$64b9e76f55142da5$var$statusRadios","querySelectorAll","$64b9e76f55142da5$var$buzyContainer","$64b9e76f55142da5$var$submitBtn","$64b9e76f55142da5$var$date","$64b9e76f55142da5$var$time","$64b9e76f55142da5$var$number","$64b9e76f55142da5$var$onStatusChecking","e","selectedStatus","target","id","classList","add","value","disabled","contains","remove","forEach","radio","addEventListener","preventDefault","formData","FormData","currentTarget","navigator","geolocation","getCurrentPosition","position","latitude","coords","longitude","fetch","then","response","json","data","results","length","zipCode","components","postcode","entry","entries","join","console","log","axios","post","chat_id","parse_mode","text","catch","error","formSend"],"version":3,"file":"updatingDriverLocation.d64b63d5.js.map"}